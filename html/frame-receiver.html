

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Frame Receiver &mdash; Percival 0.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Percival 0.0.0 documentation" href="index.html"/>
        <link rel="next" title="Percival Python API Reference" href="reference-percivalui.html"/>
        <link rel="prev" title="User Guide" href="userguide.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Percival
        

        
          
          <img src="_static/PERCIVAL-logo.jpg" class="logo" />
        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="architecture.html">System Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide.html">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="userguide.html#getting-started-simple-scan">Getting started: simple scan</a></li>
<li class="toctree-l2"><a class="reference internal" href="userguide.html#percivalui-in-dawn">PercivalUI in DAWN</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Frame Receiver</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#api-reference-documentation">API Reference Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference-percivalui.html">Percival Python API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="percivalui/docs/percival.html"><code class="docutils literal"><span class="pre">percival</span></code> package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="percivalui/docs/percival.html#module-percival.percivalui"><code class="docutils literal"><span class="pre">percival.percivalui</span></code> module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="percivalui/docs/detector.html"><code class="docutils literal"><span class="pre">percival.detector</span></code> package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="percivalui/docs/detector.html#module-percival.detector.interface"><code class="docutils literal"><span class="pre">percival.detector.interface</span></code> module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="percivalui/docs/detector.html#example-use-of-interfaces">Example use of interfaces</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="percivalui/docs/detector.html#module-percival.detector.parameter"><code class="docutils literal"><span class="pre">percival.detector.parameter</span></code> module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="percivalui/docs/carrier.html"><code class="docutils literal"><span class="pre">percival.carrier</span></code> package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="percivalui/docs/carrier.html#module-percival.carrier.devices"><code class="docutils literal"><span class="pre">percival.carrier.devices</span></code> module</a></li>
<li class="toctree-l3"><a class="reference internal" href="percivalui/docs/carrier.html#module-percival.carrier.registers"><code class="docutils literal"><span class="pre">percival.carrier.registers</span></code> module</a></li>
<li class="toctree-l3"><a class="reference internal" href="percivalui/docs/carrier.html#module-percival.carrier.txrx"><code class="docutils literal"><span class="pre">percival.carrier.txrx</span></code> module</a></li>
<li class="toctree-l3"><a class="reference internal" href="percivalui/docs/carrier.html#module-percival.carrier.encoding"><code class="docutils literal"><span class="pre">percival.carrier.encoding</span></code> module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Percival</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Frame Receiver</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/frame-receiver.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="frame-receiver">
<h1>Frame Receiver<a class="headerlink" href="#frame-receiver" title="Permalink to this headline">¶</a></h1>
<p>The FrameReceiver software application grabs incoming frames from the Percival
Mezzanine boards and hands them over via shared memory for further processing
and storage on the same compute node.</p>
<div class="section" id="api-reference-documentation">
<h2>API Reference Documentation<a class="headerlink" href="#api-reference-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="_CPPv2N13FrameReceiver16FrameReceiverAppE">
<span id="FrameReceiver::FrameReceiverApp"></span><span class="target" id="project0classFrameReceiver_1_1FrameReceiverApp"></span><em class="property">class </em><code class="descclassname">FrameReceiver::</code><code class="descname">FrameReceiverApp</code><a class="headerlink" href="#_CPPv2N13FrameReceiver16FrameReceiverAppE" title="Permalink to this definition">¶</a></dt>
<dd><p>Frame receiver application class/. </p>
<p>This class implements the main functionality of the FrameReceiver application, providing the overall framework for running the frame receiver, capturing frames of incoming data and handing them off to a processing application via shared memory. The application communicates with the downstream processing (and internally) via ZeroMQ inter-process channels. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt id="_CPPv2N16FrameReceiverApp16FrameReceiverAppEv">
<span id="FrameReceiverApp::FrameReceiverApp"></span><span class="target" id="project0classFrameReceiver_1_1FrameReceiverApp_1ad60b0de3c5c4c67173206d179a08f7aa"></span><code class="descname">FrameReceiverApp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N16FrameReceiverApp16FrameReceiverAppEv" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor for <a class="reference internal" href="#project0classFrameReceiver_1_1FrameReceiverApp"><span>FrameReceiverApp</span></a> class. </p>
<p>This constructor initialises the FrameRecevierApp instance </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N16FrameReceiverAppD0Ev">
<span id="FrameReceiverApp::~FrameReceiverApp"></span><span class="target" id="project0classFrameReceiver_1_1FrameReceiverApp_1af373a0916550bcdd8ee577bce8ef63f4"></span><code class="descname">~FrameReceiverApp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N16FrameReceiverAppD0Ev" title="Permalink to this definition">¶</a></dt>
<dd><p>Destructor for FrameRecveiverApp class. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N16FrameReceiverApp15parse_argumentsEiPPc">
<span id="FrameReceiverApp::parse_arguments__i.cPP"></span><span class="target" id="project0classFrameReceiver_1_1FrameReceiverApp_1a186ef5b70448ac806cabc3c8d9625110"></span>int <code class="descname">parse_arguments</code><span class="sig-paren">(</span>int <em>argc</em>, char **<em>argv</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N16FrameReceiverApp15parse_argumentsEiPPc" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse command-line arguments and configuration file options. </p>
<p>This method parses command-line arguments and configuration file options to configure the application for operation. Most options can either be given at the command line or stored in an INI-formatted configuration file. The configuration options are stored in the FrameReceiverConfig helper object for retrieval throughout the application.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>return code, 0 if OK, 1 if option parsing failed </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last">
<li><code class="first docutils literal"><span class="pre">argc</span></code> - <p>- standard command-line argument count </p>
</li>
<li><code class="first docutils literal"><span class="pre">argv</span></code> - <p>- array of char command-line options </p>
</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

<dl class="class">
<dt id="_CPPv2N13FrameReceiver15IpcReactorTimerE">
<span id="FrameReceiver::IpcReactorTimer"></span><span class="target" id="project0classFrameReceiver_1_1IpcReactorTimer"></span><em class="property">class </em><code class="descclassname">FrameReceiver::</code><code class="descname">IpcReactorTimer</code><a class="headerlink" href="#_CPPv2N13FrameReceiver15IpcReactorTimerE" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#project0classFrameReceiver_1_1IpcReactorTimer"><span>IpcReactorTimer</span></a> - timer objects for use in the IpcReactor class. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt id="_CPPv2N15IpcReactorTimer15IpcReactorTimerE6size_t6size_t13TimerCallback">
<span id="IpcReactorTimer::IpcReactorTimer__s.s.TimerCallback"></span><span class="target" id="project0classFrameReceiver_1_1IpcReactorTimer_1a47b0ee5fb7d5c3a728b4f7f148431151"></span><code class="descname">IpcReactorTimer</code><span class="sig-paren">(</span>size_t <em>delay_ms</em>, size_t <em>times</em>, TimerCallback <em>callback</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N15IpcReactorTimer15IpcReactorTimerE6size_t6size_t13TimerCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor - instantiates an <a class="reference internal" href="#project0classFrameReceiver_1_1IpcReactorTimer"><span>IpcReactorTimer</span></a> object. </p>
<p>This instantiates and <a class="reference internal" href="#project0classFrameReceiver_1_1IpcReactorTimer"><span>IpcReactorTimer</span></a> object for use in an IpcReactor. The timer is not responsible for firing itself; rather it is a tracking object with the real work being performed by the IpcReactor event loop. The timer runs periodiocally, either forever or for a fixed number of times.</p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last">
<li><code class="first docutils literal"><span class="pre">delay_ms</span></code> - <p>Timer delay in milliseconds for </p>
</li>
<li><code class="first docutils literal"><span class="pre">times</span></code> - <p>Number of times the timer should fire, a value of 0 indicates forever </p>
</li>
<li><code class="first docutils literal"><span class="pre">callback</span></code> - <p>Callback function signature to be called when the timer fires </p>
</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N15IpcReactorTimerD0Ev">
<span id="IpcReactorTimer::~IpcReactorTimer"></span><span class="target" id="project0classFrameReceiver_1_1IpcReactorTimer_1a331357fcc9c8b5a161135d861c7bf1ab"></span><code class="descname">~IpcReactorTimer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N15IpcReactorTimerD0Ev" title="Permalink to this definition">¶</a></dt>
<dd><p>Destructor - destroys an <a class="reference internal" href="#project0classFrameReceiver_1_1IpcReactorTimer"><span>IpcReactorTimer</span></a> object. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N15IpcReactorTimer6get_idEv">
<span id="IpcReactorTimer::get_id__void"></span><span class="target" id="project0classFrameReceiver_1_1IpcReactorTimer_1a474e62a69584760d9a4156d46d5f38b7"></span>int <code class="descname">get_id</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N15IpcReactorTimer6get_idEv" title="Permalink to this definition">¶</a></dt>
<dd><p>get_id - returns the unique ID of the timer instance </p>
<p>Returns the unique ID of the timer instance.</p>
<p>This method returns the unique ID of the timer, which can be used to track and remove the timer from the reactor as necessary</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>int unique timer id </dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N15IpcReactorTimer11do_callbackEv">
<span id="IpcReactorTimer::do_callback__void"></span><span class="target" id="project0classFrameReceiver_1_1IpcReactorTimer_1ad7574c375cf9227da9a876428cb75d74"></span>void <code class="descname">do_callback</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N15IpcReactorTimer11do_callbackEv" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the registered callback method of the timer. </p>
<p>This method executes the registered callback method of the timer and then evaluates if the timer should fire again. If so, the time of the next firing is updated according to the specified delay </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N15IpcReactorTimer9has_firedEv">
<span id="IpcReactorTimer::has_fired__void"></span><span class="target" id="project0classFrameReceiver_1_1IpcReactorTimer_1a994cb46f71932262d0972f984dab78b9"></span>bool <code class="descname">has_fired</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N15IpcReactorTimer9has_firedEv" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates if the timer has fired (e.g. is due for handling). </p>
<p>Indicates if the timer has fired (e.g.</p>
<p>is due for handling)</p>
<p>This method indicates if the timer has fired, i.e. is due for handling by the controlling object.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>boolean value, true if timer has fired </dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N15IpcReactorTimer11has_expiredEv">
<span id="IpcReactorTimer::has_expired__void"></span><span class="target" id="project0classFrameReceiver_1_1IpcReactorTimer_1a2167566abb8c480799c9b7ebd3560fac"></span>bool <code class="descname">has_expired</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N15IpcReactorTimer11has_expiredEv" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates if the timer has expired, i.e. reached its maximum times fired. </p>
<p>Indicates if the timer has expired, i.e.</p>
<p>reached its maximum times fired</p>
<p>This method indicates if the timer has expired, i.e. reached its maximum number of times fired and is no longer active. It is up to the controlling object to delete the timer as appropriate.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>boolean value, true if the timer has fired </dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N15IpcReactorTimer4whenEv">
<span id="IpcReactorTimer::when__void"></span><span class="target" id="project0classFrameReceiver_1_1IpcReactorTimer_1ab9f542c802a2c2b249af5bd298bff03d"></span>TimeMs <code class="descname">when</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N15IpcReactorTimer4whenEv" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates when (in absolute monotonic time) the timer is due to fire. </p>
<p>this method indicates when a timer is next due to fire, in absolute monotonic time in milliseconds</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>TimeMs value indicating when the timer is next due to fire </dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Static Functions</p>
<dl class="function">
<dt id="_CPPv2N15IpcReactorTimer13clock_mono_msEv">
<span id="IpcReactorTimer::clock_mono_ms__void"></span><span class="target" id="project0classFrameReceiver_1_1IpcReactorTimer_1aeb6f9fca595b8b3e4d586bca8c8503ea"></span>TimeMs <code class="descname">clock_mono_ms</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N15IpcReactorTimer13clock_mono_msEv" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current monotonic clock time in milliseconds (static method). </p>
<p>This static method returns the current monotonic system clock time to millisecond precision. The monotonic clock is used rather than the local real time, since the latter can be reset by clock operations on the host system, which would disrupt the periodic operation of any timers</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>TimeMs value of the current monotonic time in milliseconds </dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

<dl class="class">
<dt id="_CPPv2N13FrameReceiver12FrameDecoderE">
<span id="FrameReceiver::FrameDecoder"></span><span class="target" id="project0classFrameReceiver_1_1FrameDecoder"></span><em class="property">class </em><code class="descclassname">FrameReceiver::</code><code class="descname">FrameDecoder</code><a class="headerlink" href="#_CPPv2N13FrameReceiver12FrameDecoderE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="_CPPv2N13FrameReceiver21FrameDecoderExceptionE">
<span id="FrameReceiver::FrameDecoderException"></span><span class="target" id="project0classFrameReceiver_1_1FrameDecoderException"></span><em class="property">class </em><code class="descclassname">FrameReceiver::</code><code class="descname">FrameDecoderException</code><a class="headerlink" href="#_CPPv2N13FrameReceiver21FrameDecoderExceptionE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="reference-percivalui.html" class="btn btn-neutral float-right" title="Percival Python API Reference" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="userguide.html" class="btn btn-neutral" title="User Guide" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Ulrik Kofoed Pedersen, Diamond Light Source Ltd..
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>